<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>youku</title>
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/index.css" />
  </head>
  <body>
    <div id="container">
      <header class="header">
        <a href="#" class="logo"><img src="./images/logo.png" alt="logo" /></a>
        <form>
          <input type="text" placeholder="奇迹少女" />
          <img class="search" src="./images/search.png" alt="" />
        </form>
        <div class="right">
          <a href="#">
            <img src="./images/user.png" alt="" />
          </a>
          <a href="" class="down">下载App</a>
        </div>
      </header>
      <div class="select">
        <ul>
          <li class="act"><a href="">首页</a></li>
          <li><a href="">会员</a></li>
          <li><a href="">电视剧</a></li>
          <li><a href="">电影</a></li>
          <li><a href="">综艺</a></li>
          <li><a href="">动漫</a></li>
          <li><a href="">少儿</a></li>
          <li><a href="">教育</a></li>
          <li><a href="">生活</a></li>
          <li><a href="">游戏</a></li>
          <li><a href="">资讯</a></li>
          <li><a href="">体育</a></li>
          <li><a href="">文化</a></li>
          <li><a href="">纪录片</a></li>
          <li><a href="">音乐</a></li>
          <li><a href="">公益</a></li>
          <li><a href="">科技</a></li>
          <li><a href="">搞笑</a></li>
          <li><a href="">娱乐</a></li>
          <li><a href="">财经</a></li>
          <li><a href="">旅游</a></li>
          <li><a href="">汽车</a></li>
          <li><a href="">时尚</a></li>
          <li><a href="">亲子</a></li>
          <li><a href="">电竞</a></li>
          <li><a href="">直播</a></li>
        </ul>
        <ul style="display: none;" class="clearFix select-other-ul">
          <li class="act"><a href="">首页</a></li>
          <li><a href="">会员</a></li>
          <li><a href="">电视剧</a></li>
          <li><a href="">电影</a></li>
          <li><a href="">综艺</a></li>
          <li><a href="">动漫</a></li>
          <li><a href=""><img class="up" src="./images/down.png" alt=""></a></li>
          <li><a href="">少儿</a></li>
          <li><a href="">教育</a></li>
          <li><a href="">生活</a></li>
          <li><a href="">游戏</a></li>
          <li><a href="">资讯</a></li>
          <li><a href="">体育</a></li>
          <li><a href="">文化</a></li>
          <li><a href="">纪录片</a></li>
          <li><a href="">音乐</a></li>
          <li><a href="">公益</a></li>
          <li><a href="">科技</a></li>
          <li><a href="">搞笑</a></li>
          <li><a href="">娱乐</a></li>
          <li><a href="">财经</a></li>
          <li><a href="">旅游</a></li>
          <li><a href="">汽车</a></li>
          <li><a href="">时尚</a></li>
          <li><a href="">亲子</a></li>
          <li><a href="">电竞</a></li>
          <li><a href="">直播</a></li>
        </ul>
        <img class="down" src="./images/down.png" alt="">
      </div>
      <div class="banner">
        <ul class="clearFix b-img">
          <li>
            <a href="">
              <img src="./images/7.webp" alt="">
              <div class="bot">&lt;姻缘&gt;毒舌神仙独宠小红娘</div>
            </a>
          </li>
          <li>
            <a href="">
              <img src="./images/1.webp" alt="">
              <div class="bot">&lt;姻缘&gt;毒舌神仙独宠小红娘</div>
            </a>
          </li>
          <li>
            <a href="">
              <img src="./images/2.webp" alt="">
              <div class="bot">&lt;姻缘&gt;毒舌神仙独宠小红娘</div>
            </a>
          </li>
          <li>
            <a href="">
              <img src="./images/3.webp" alt="">
              <div class="bot">&lt;姻缘&gt;毒舌神仙独宠小红娘</div>
            </a>
          </li>
          <li>
            <a href="">
              <img src="./images/4.webp" alt="">
              <div class="bot">&lt;姻缘&gt;毒舌神仙独宠小红娘</div>
            </a>
          </li>
          <li>
            <a href="">
              <img src="./images/5.webp" alt="">
              <div class="bot">&lt;姻缘&gt;毒舌神仙独宠小红娘</div>
            </a>
          </li>
          <li>
            <a href="">
              <img src="./images/6.webp" alt="">
              <div class="bot">&lt;姻缘&gt;毒舌神仙独宠小红娘</div>
            </a>
          </li>
          <li>
            <a href="">
              <img src="./images/7.webp" alt="">
              <div class="bot">&lt;姻缘&gt;毒舌神仙独宠小红娘</div>
            </a>
          </li>
          <li>
            <a href="">
              <img src="./images/1.webp" alt="">
              <div class="bot">&lt;姻缘&gt;毒舌神仙独宠小红娘</div>
            </a>
          </li>
        </ul>
        <ul class="dots">
          <li class="active-dot"></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
        </ul>
      </div>
      <div class="open">
        <input type="button" value="打开优酷App, 流畅到起飞">
      </div>
    </div>
    <script>
      window.onload = function() {
        swiper()
        selectDown()
      }

      var INTERVAL = 2500
      function swiper() {
        var bImgUl = document.querySelector(".b-img")
        var dots = document.querySelectorAll(".dots li")
        var index = 1
        var timer = setInterval(function() {
          index++
          bImgUl.style["transition"] = "all .2s"
          bImgUl.style["transform"] = `translateX(${-index * 11.1}%)`
        }, INTERVAL)

        bImgUl.addEventListener("transitionend", function(e) {

          if(index >= 8) {
            index = 1
            bImgUl.style["transition"] = "none"
            bImgUl.style["transform"] = `translateX(${-index * 11.1}%)`
          }
          if(index <= 0) {
            index = 7
            bImgUl.style["transition"] = "none"
            bImgUl.style["transform"] = `translateX(${-index * 11.1}%)`
          }

          dots.forEach(item => {
            item.classList.remove("active-dot")
          })
          dots[index-1].classList.add("active-dot")
        })

        var width = bImgUl.firstElementChild.clientWidth
        var startX = 0
        var diff = 0
        bImgUl.addEventListener("touchstart", function(e) {
          if(timer) clearInterval(timer)
          startX = e.touches[0].pageX
        })

        bImgUl.addEventListener("touchmove", function(e) {
          diff = e.touches[0].pageX - startX
          bImgUl.style["transition"] = "none"
          bImgUl.style["transform"] = `translateX(${-index * width + diff}px)`
        })

        bImgUl.addEventListener("touchend", function(e) {

          if(Math.abs(diff) > width/3) {
            if(diff > 0) {
              index--
            } else {
              index++
            }
          }
          bImgUl.style["transition"] = "all .2s"
          bImgUl.style["transform"] = `translateX(${-index * 11.1}%)`

          if(timer) clearInterval(timer)

          timer = setInterval(function() {
            index++
            bImgUl.style["transition"] = "all .2s"
            bImgUl.style["transform"] = `translateX(${-index * 11.1}%)`
          }, INTERVAL)
        })

      }
      function selectDown() {
        var down = document.querySelector(".select .down")
        var selectUl = document.querySelector(".select-other-ul")
        var up = document.querySelector(".up")
        
        down.addEventListener("click", function() {
          selectUl.previousElementSibling.style["display"] = "none"
          down.style["display"] = "none"
          selectUl.style["display"] = "block"
        })

        up.addEventListener("click", function() {
          selectUl.previousElementSibling.style["display"] = "flex"
          down.style["display"] = "block"
          selectUl.style["display"] = "none"
        })
      }
    </script>
  </body>
</html>
